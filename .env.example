# =============================================================================
# Environment Variables Template
# =============================================================================
#
# Copy this file to .env.local and fill in the values for your environment.
# CRITICAL: .env.local is gitignored - NEVER commit it to version control.
#
# For production (Vercel), set these variables via the Vercel Dashboard.
#

# =============================================================================
# Next.js Configuration
# =============================================================================

# Environment: development | production | test
NODE_ENV=development

# Public site URL (used for redirects, links)
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# =============================================================================
# Supabase Configuration
# =============================================================================
#
# Get these values from your Supabase project dashboard:
# https://app.supabase.com/project/_/settings/api
#
# CRITICAL SECURITY NOTES:
# - NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are safe to expose
# - SUPABASE_SERVICE_ROLE_KEY must NEVER be exposed to the client
# - Use service role key only in server-side code (API routes, middleware)
#

# Your Supabase project URL (find in Settings > API)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon (public) key (safe to expose to browser)
# This is used for client-side authentication
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase service role key (server-only!)
# WARNING: This grants full database access. NEVER expose to client.
# Only use in server-side code (API routes, middleware).
# Keep this secret and rotate regularly.
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# OpenAI Configuration
# =============================================================================
#
# Get your API key from: https://platform.openai.com/api-keys
#
# Used for:
# - Generating embeddings: text-embedding-3-small (1536 dimensions)
# - Chat completions: gpt-4-turbo
#
# Cost estimate: ~$0.01 per 1M embedding tokens, ~$0.01/$0.03 per 1K chat tokens
#

OPENAI_API_KEY=sk-proj-your-api-key-here

# =============================================================================
# Qdrant Vector Database Configuration
# =============================================================================
#
# Qdrant stores vector embeddings for semantic search.
# Get a cloud instance from: https://cloud.qdrant.io/
#
# Alternative: Self-hosted Qdrant (update URL to http://localhost:6333)
#

# Qdrant cloud URL (include /api in path)
QDRANT_URL=https://your-cluster-id.qdrant.io

# Qdrant API key (for authentication)
QDRANT_API_KEY=your-qdrant-api-key-here

# Qdrant collection name (where embeddings are stored)
# Default: "documents" - change if you use multiple collections
QDRANT_COLLECTION_NAME=documents

# =============================================================================
# Upstash Redis Configuration
# =============================================================================
#
# Redis caches embeddings and search results for performance.
# Get a free instance from: https://console.upstash.com/
#
# TTLs:
# - Embeddings: 1 hour (expensive to generate)
# - Search results: 5 minutes (balance freshness vs hits)
# - Conversation state: 7 days (user conversations)
#

# Upstash Redis REST API URL
UPSTASH_REDIS_REST_URL=https://your-redis-id.upstash.io

# Upstash REST token for authentication
UPSTASH_REDIS_REST_TOKEN=your-redis-token-here

# =============================================================================
# Optional: Langfuse Observability
# =============================================================================
#
# Langfuse tracks LLM usage, cost, and performance.
# Get started at: https://cloud.langfuse.com/
#
# These variables are optional. Leave commented out if not using Langfuse.
#

# LANGFUSE_PUBLIC_KEY=pk-lf-...
# LANGFUSE_SECRET_KEY=sk-lf-...
# LANGFUSE_BASE_URL=https://cloud.langfuse.com

# =============================================================================
# Additional Configuration (Optional)
# =============================================================================

# Document processing timeout (milliseconds)
# DOCUMENT_PROCESSING_TIMEOUT=30000

# Maximum concurrent embeddings (prevent rate limiting)
# MAX_CONCURRENT_EMBEDDINGS=5

# Log level: debug | info | warn | error
# LOG_LEVEL=info

# =============================================================================
# Development-Only Variables
# =============================================================================
# These are for local development only. Never use in production.

# Vercel project ID (for local preview deployment)
# VERCEL_PROJECT_ID=

# GitHub token for deployments
# GITHUB_TOKEN=

# =============================================================================
# Notes for Setup
# =============================================================================
#
# 1. SUPABASE:
#    - Create a new project at https://app.supabase.com
#    - Go to Settings > API > Copy your project URL and keys
#    - Database will be initialized with migrations from /supabase/migrations/
#
# 2. OPENAI:
#    - Create API key at https://platform.openai.com/api-keys
#    - Ensure you have usage credits or a paid account
#
# 3. QDRANT:
#    - Create a cloud cluster at https://cloud.qdrant.io
#    - Create a collection named "documents" with 1536 dimensions
#    - Or use local: docker run -p 6333:6333 qdrant/qdrant
#
# 4. REDIS:
#    - Create free tier at https://console.upstash.com
#    - Copy REST URL and token (not standalone)
#
# 5. LOCAL TESTING:
#    - Run: npm install
#    - Run: npx supabase link --project-ref YOUR_PROJECT_REF
#    - Run: npx supabase db push
#    - Run: npm run dev
#    - Visit: http://localhost:3000
#
# 6. VERCEL DEPLOYMENT:
#    - Connect GitHub repo to Vercel
#    - Add these environment variables in Vercel Dashboard
#    - Note: SUPABASE_SERVICE_ROLE_KEY is already set if linked with Supabase
#
